<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Collin Tice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; font-family:Arial,sans-serif; background:#f4f6f8; }
header { background:#1f2933; color:white; padding:15px 30px; display:flex; justify-content:space-between; align-items:center; }
.site-name { font-size:22px; font-weight:bold; }
nav button { background:none; border:none; color:white; margin-left:18px; font-size:16px; cursor:pointer; }
nav button:hover { text-decoration:underline; }
.container { padding:30px; }
.section { display:none; }
.section.active { display:block; }
.box { background:white; padding:20px; margin-bottom:20px; border-radius:6px; box-shadow:0 2px 5px rgba(0,0,0,.1); }
textarea { width:100%; resize:none; overflow:hidden; min-height:32px; padding:10px; margin-top:10px; border-radius:4px; border:1px solid #ccc; }
.home-grid { display:grid; grid-template-columns:1fr 2fr; gap:20px; }
.right-grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; }
.image-preview { max-width:100%; margin-top:10px; border-radius:6px; }
.file-link { margin-top:10px; display:block; }
.add-btn { margin-top:10px; padding:8px 12px; background:#1f2933; color:white; border:none; border-radius:4px; cursor:pointer; }
.add-btn:hover { background:#374151; }
</style>
</head>
<body>
<header>
  <div class="site-name">Collin Tice</div>
  <nav>
    <button onclick="showSection('home')">Home</button>
    <button onclick="showSection('education')">Education</button>
    <button onclick="showSection('work')">Work Experience</button>
    <button onclick="showSection('leadership')">Leadership Positions</button>
    <button onclick="showSection('volunteer')">Volunteer Service</button>
    <button onclick="showSection('projects')">Projects & Awards</button>
  </nav>
</header>

<div class="container">

<div id="home" class="section active">
  <div class="home-grid">
    <div class="box">
      <h3>Professional Headshot</h3>
      <input type="file" accept="image/*" onchange="saveImage(this,'headshot')">
      <img id="headshot" class="image-preview">
    </div>
    <div>
      <div class="box"><h3>Professional Summary</h3><textarea data-key="summary"></textarea></div>
      <div class="right-grid">
        <div class="box"><h3>Skills</h3><textarea data-key="skills"></textarea></div>
        <div class="box"><h3>Links</h3><textarea data-key="links"></textarea></div>
      </div>
    </div>
  </div>
</div>

<div id="education" class="section">
  <div class="box">
    <h2>Education</h2>
    <div id="education-list"></div>
    <button class="add-btn" onclick="addEntry('education-list','education')">Add Education</button>
  </div>
  <div class="box">
    <h2>Certifications</h2>
    <textarea data-key="certifications"></textarea>
    <input type="file" accept="image/*,.pdf" onchange="saveCertFile(this)">
    <img id="certImage" class="image-preview">
    <a id="certPdf" class="file-link" target="_blank"></a>
  </div>
</div>

<div id="work" class="section">
  <div class="box">
    <h2>Work Experience</h2>
    <div id="work-list"></div>
    <button class="add-btn" onclick="addEntry('work-list','workList')">Add Experience</button>
  </div>
</div>
<div id="leadership" class="section">
  <div class="box">
    <h2>Leadership Positions</h2>
    <div id="leadership-list"></div>
    <button class="add-btn" onclick="addEntry('leadership-list','leadershipList')">Add Leadership Position</button>
  </div>
</div>
<div id="volunteer" class="section">
  <div class="box">
    <h2>Volunteer Service</h2>
    <div id="volunteer-list"></div>
    <button class="add-btn" onclick="addEntry('volunteer-list','volunteerList')">Add Volunteer Service</button>
  </div>
</div>
<div id="projects" class="section">
  <div class="box">
    <h2>Projects</h2>
    <div id="projects-list"></div>
    <button class="add-btn" onclick="addEntry('projects-list','projectsList')">Add Project</button>
  </div>
  <div class="box">
    <h2>Awards</h2>
    <div id="awards-list"></div>
    <button class="add-btn" onclick="addEntry('awards-list','awardsList')">Add Award</button>
  </div>
</div>
</div>
</div>

<script>
function showSection(id){document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}

// TEXT PERSISTENCE
document.querySelectorAll('textarea').forEach(t=>{
  const key=t.dataset.key;
  if(localStorage[key]) t.value=localStorage[key];
  autoResize(t);
  t.addEventListener('input',()=>{localStorage[key]=t.value; autoResize(t);});
});

function autoResize(el){el.style.height='auto'; el.style.height=el.scrollHeight+'px';}

// GENERIC DYNAMIC LISTS
function addEntry(containerId,storageKey){
  const container=document.getElementById(containerId);
  const textarea=document.createElement('textarea');
  textarea.rows = 1;
  textarea.addEventListener('input',()=>saveEntries(containerId,storageKey));
  container.appendChild(textarea);
}

function saveEntries(containerId,storageKey){
  const values=[...document.getElementById(containerId).children].map(t=>t.value);
  localStorage[storageKey]=JSON.stringify(values);
}

['education','workList','leadershipList','volunteerList','projectsList','awardsList'].forEach(key=>{
  const containerId = key === 'education' ? 'education-list' : key.replace('List','-list');
  const container = document.getElementById(containerId);

  if(localStorage[key]){
    JSON.parse(localStorage[key]).forEach(v=>{
      const t=document.createElement('textarea');
      t.rows = 1;
      t.value=v;
      t.addEventListener('input',()=>saveEntries(containerId,key));
      autoResize(t);
      container.appendChild(t);
    });
  } else {
    // create one empty starter box
    const t=document.createElement('textarea');
    t.rows = 1;
    t.addEventListener('input',()=>saveEntries(containerId,key));
    container.appendChild(t);
  }
});
  }
});

function saveEntries(containerId,storageKey){
  const values=[...document.getElementById(containerId).children].map(t=>t.value);
  localStorage[storageKey]=JSON.stringify(values);
}

if(localStorage.education){
  JSON.parse(localStorage.education).forEach(v=>{
    const t=document.createElement('textarea'); t.value=v; document.getElementById('education-list').appendChild(t);
  });
}

// HEADSHOT LOAD
if(localStorage.headshot){ document.getElementById('headshot').src = localStorage.headshot; }

// CERT FILE (IMAGE OR PDF)
function saveCertFile(input){
  const file=input.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=e=>{
    if(file.type.includes('pdf')){
      localStorage.certPdf=e.target.result;
      document.getElementById('certPdf').href=e.target.result;
      document.getElementById('certPdf').textContent='View Certification (PDF)';
    } else {
      localStorage.certImage=e.target.result;
      document.getElementById('certImage').src=e.target.result;
    }
  };
  reader.readAsDataURL(file);
}

if(localStorage.certImage) document.getElementById('certImage').src=localStorage.certImage;
if(localStorage.certPdf){ document.getElementById('certPdf').href=localStorage.certPdf; document.getElementById('certPdf').textContent='View Certification (PDF)'; }
if(localStorage.certPdf){ document.getElementById('certPdf').href=localStorage.certPdf; document.getElementById('certPdf').textContent='View Certification (PDF)'; }

</script>
</body>
</html>
